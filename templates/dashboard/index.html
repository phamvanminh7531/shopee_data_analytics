{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa\
                    9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
    
    <link rel="stylesheet" href="{% static '/css/pie_chart_styles.css' %}">
    <link rel="stylesheet" href="{% static '/css/styles.css' %}">
    <link rel="stylesheet" href="{% static '/css/bar_chart_1_styles.css' %}">
    <title>Document</title>
</head>
<body>
    <div class="container">
        <div class="row">
            <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                <h1>SHOPEE ANALYSIS DASHBOARD</h1>
            </div>
        </div>

        <!-- CHART 1 -->
        <div class="row">
            <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 barchart1" id="bar-chart-1">
            </div>
        </div>
        <!-- END CHART 1 -->

        <div class="row">
            <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                <h2 class="h2-1" style="color: rgb(237, 34, 34);">{{doanh_thu_result_text}}</h2>
                <h2 class="h2-2" style="color: rgb(237, 34, 34);">{{doanh_so_result_text}}</h2>
            </div>
        </div>
        
        <!-- CHART 2 -->
        <div class="row">
            <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12" id="bar-chart-2">
            </div>
        </div>
        <!-- END CHART 2 -->
        <div class="row">
            <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                <h2 class="h2-3" style="color: rgb(237, 34, 34);">{{danh_gia_text_reslt}}</h2>
            </div>
        </div>
        <!-- CHART 3 -->
        <div class="row">
            <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 piechart" id="pie-chart-1">
            </div>
        </div>
        <!-- END CHART 3 -->

    </div>


    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/modules/export-data.js"></script>
    <script src="https://code.highcharts.com/modules/accessibility.js"></script>
    <!-- CHART 1 -->
    <script>
        Highcharts.chart('bar-chart-1', {

        chart: {
        type: 'column',
        styledMode: true
        },

        title: {
        text: 'DOANH THU VÀ DOANH SỐ CÁC DOANH MỤC'
        },


        xAxis: {
        categories: ["Bách Hóa", "Túi Ví Nam", "Thú Cưng", "Điện Thoại", "Đồng Hồ", "Đồ Chơi",
        "Chăm Sóc Nhà Cửa", "Giày Dép Nam", "Giày Dép Nữ", "Máy Ảnh - Máy Quay", "Máy Tính",
        "Mẹ Và Bé", "Đời Sống", "Sách", "Trang Sức Nữ", "Sắc Đẹp", "Sức Khỏe", "Thể Thao Du Lịch",
        "Thiết Bị Điện Tử", "Thiết Bị Gia Dụng", "Thời Trang Nam", "Thời Trang Nữ", "Thời Trang Trẻ Em",
        "Túi Ví Nữ", "Dịch Vụ", "Xe"]
        },

        yAxis: [{ // Primary axis
        className: 'highcharts-color-0',
        title: {
            text: 'Doanh Số'
        }
        }, { // Secondary axis
        className: 'highcharts-color-1',
        opposite: true,
        title: {
            text: 'Doanh Thu'
        }
        }],

        plotOptions: {
        column: {
            borderRadius: 5
        }
        },

        series: [{
        name: 'Doanh Số',
        data: {{doanh_so_list}},
        tooltip: {
            valueSuffix: ""
        }
        }, {
        name: 'Doanh Thu',
        data: {{doanh_thu_list}},
        yAxis: 1
        }]

        });
    </script>
    <!-- END CHART 1 -->

    <!-- CHART 2 -->
    <script>
        Highcharts.chart('bar-chart-2', {
        chart: {
            type: 'column'
        },
        title: {
            text: 'MỨC ĐỘ ĐÁNH GIÁ SẢN PHẨM',
            align: 'left'
        },
        xAxis: {
            categories: ["Bách Hóa", "Túi Ví Nam", "Thú Cưng", "Điện Thoại", "Đồng Hồ", "Đồ Chơi",
        "Chăm Sóc Nhà Cửa", "Giày Dép Nam", "Giày Dép Nữ", "Máy Ảnh - Máy Quay", "Máy Tính",
        "Mẹ Và Bé", "Đời Sống", "Sách", "Trang Sức Nữ", "Sắc Đẹp", "Sức Khỏe", "Thể Thao Du Lịch",
        "Thiết Bị Điện Tử", "Thiết Bị Gia Dụng", "Thời Trang Nam", "Thời Trang Nữ", "Thời Trang Trẻ Em",
        "Túi Ví Nữ", "Dịch Vụ", "Xe"]
        },
        yAxis: {
            min: 0,
            title: {
            text: 'Count trophies'
            },
            stackLabels: {
            enabled: true,
            style: {
                fontWeight: 'bold',
                color: ( // theme
                Highcharts.defaultOptions.title.style &&
                Highcharts.defaultOptions.title.style.color
                ) || 'gray',
                textOutline: 'none'
            }
            }
        },
        legend: {
            align: 'left',
            x: 70,
            verticalAlign: 'top',
            y: 70,
            floating: true,
            backgroundColor:
            Highcharts.defaultOptions.legend.backgroundColor || 'white',
            borderColor: '#CCC',
            borderWidth: 1,
            shadow: false
        },
        tooltip: {
            headerFormat: '<b>{point.x}</b><br/>',
            pointFormat: '{series.name}: {point.y}<br/>Total: {point.stackTotal}'
        },
        plotOptions: {
            column: {
            stacking: 'normal',
            dataLabels: {
                enabled: true
            }
            }
        },
        series: [{
            name: 'Comment',
            data: {{cmt_count}}
        }, {
            name: '5 Sao',
            data: {{five_star}}
        }, {
            name: '4 Sao',
            data: {{four_star}}
        }, {
            name: '3 Sao',
            data: {{three_star}}
        }, {
            name: '2 Sao',
            data: {{two_star}}
        }, {
            name: '1 Sao',
            data: {{one_star}}
        },
    
    ]
        });
    </script>
    <!-- END CHART 2 -->

    <!-- CHART 3 -->
    <script>
        Highcharts.chart('pie-chart-1', {
        chart: {
            styledMode: true
        },
        title: {
            text: 'Doanh Số Theo Khu Vực'
        },
        xAxis: {
            categories: ['TP. Hồ Chí Minh', 'Hà Nội', 'Nước ngoài', 'Các tỉnh còn lại']
        },
        series: [{
            type: 'pie',
            allowPointSelect: true,
            keys: ['name', 'y', 'selected', 'sliced'],
            data: [
            ['TP HCM', {{tp_HCM}}, true, true],
            ['Ha Noi', {{hanoi}}, false],
            ['Nuoc Ngoai', {{nuoc_ngoai}}, false],
            ['Cac Tinh Con Lai', {{con_lai}}, false],
            ]
            
            ,
            showInLegend: true
        }]
        });
    </script>
</body>
</html>